{{- $where := get . "where" -}}
{{- if not $where -}}
{{-   $where := promptString "where" -}}
{{- end -}}

{{- $datadog_host := get .datadog "host" -}}
{{- if not $datadog_host -}}
{{-   $datadog_host := promptString "datadog_host" -}}
{{- end -}}

{{- $github_org := get .github "org" -}}
{{- if not $github_org -}}
{{-   $github_org := promptString "github_org" -}}
{{- end -}}

{{- $github_user := get .github "user" -}}
{{- if not $github_user -}}
{{-   $github_user := promptString "github_user" -}}
{{- end -}}

remove = true

[data]
  where = "{{ $where }}"

  [data.datadog]
    host = "{{ $datadog_host }}"

  [data.github]
{{- if $github_org -}}
    org = "{{ $github_org }}"
{{- end -}}
    user = "{{ $github_user }}"

  [data.homebrew]
    prefix = "{{ if eq .chezmoi.arch "arm64" }}/opt/homebrew{{ else }}/usr/local{{ end }}"

  [data.user]
    name = "Nick Osborn"

[diff]
  pager = "less -R"

[git]
  autoCommit = true
  autoPush = true

#!/bin/sh

set -o errexit
set -o nounset

readonly VERSION=0.4.0

command -v go >/dev/null || exit 0

if [ ! -s "terrafmt-${VERSION}" ]; then
  go install github.com/katbyte/terrafmt@v${VERSION}
  mv "${GOPATH:-"${HOME}/go"}/bin/terrafmt" "terrafmt-${VERSION}"
fi
chmod +x "terrafmt-${VERSION}"
ln -sf "terrafmt-${VERSION}" terrafmt

exit 0

# vim: ft=sh
